new class{constructor(){this.observer=null,this.setupMutationObserver(),this.setupMessageHandlers()}setupMutationObserver(){this.observer=new MutationObserver((e=>{e.forEach((e=>{e.addedNodes.length&&this.injectScripts()}))})),this.observer.observe(document.body,{childList:!0,subtree:!0})}setupMessageHandlers(){chrome.runtime.onMessage.addListener(((e,t,s)=>{if("INJECT_SCRIPTS"===e.type)return this.injectScripts().then(s),!0}))}async injectScripts(){try{await chrome.scripting.executeScript({target:{tabId:(await chrome.runtime.sendMessage({type:"GET_TAB_ID"})).tabId},files:["domParser.js"]}),console.log("Scripts injected successfully")}catch(e){console.error("Script injection failed:",e)}}};
